(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{11:function(e,a,t){e.exports={profile:"Profile_profile__1ojPe",card:"Profile_card__3ofDY",appear:"Profile_appear__taBNN",avatar:"Profile_avatar__1wy6U",item:"Profile_item__1Lvei",icon:"Profile_icon__39m4G",key:"Profile_key__20tOq",buttons:"Profile_buttons__3b0cZ"}},15:function(e,a,t){e.exports={block:"Auth_block__tlPT_",heading:"Auth_heading__28eol",form:"Auth_form__1PIO0",inputBlock:"Auth_inputBlock__3RbuT",input:"Auth_input__aQ5GN",label:"Auth_label__2EnbA",buttons:"Auth_buttons__3qfWW",submit:"Auth_submit__1LT_J",warn:"Auth_warn__2g8wn",loading:"Auth_loading__rZQln",dn:"Auth_dn__w4G9Q",container:"Auth_container__1kj8t"}},16:function(e,a,t){e.exports={topline:"Topline_topline__2rQFU",item:"Topline_item__3jAVM",link:"Topline_link__-4fGa",profile:"Topline_profile__1aprS",icon:"Topline_icon__2uMNc",account:"Topline_account__1PzTU",message:"Topline_message__3dGHC",active:"Topline_active__OWuvY",text:"Topline_text__1j8yO",submit:"Topline_submit__A42qm"}},161:function(e,a,t){e.exports=t.p+"static/media/man.669a717f.png"},162:function(e,a,t){e.exports=t.p+"static/media/woman.45f4a81d.png"},163:function(e,a,t){e.exports={scene:"Scene_scene__315Zw"}},189:function(e,a,t){e.exports=t(378)},194:function(e,a,t){},28:function(e,a,t){e.exports={form:"ChangePassword_form__3vDG3",block:"ChangePassword_block__3Xd-o",heading:"ChangePassword_heading__1qiyn",item:"ChangePassword_item__bLC7y",input:"ChangePassword_input__2Yij9",submit:"ChangePassword_submit__32hKY"}},36:function(e,a,t){e.exports={app:"App_app__UFQDW",auth:"App_auth__2GSie",overlay:"App_overlay__2UZae"}},378:function(e,a,t){"use strict";t.r(a);var n=t(1),c=t.n(n),l=t(21),r=t.n(l),o=(t(194),t(36)),s=t.n(o),i=t(17),m=t(8),u=t(24),_=t.n(u),p=t(44),d=t(37),b=t(27),f=t(13),E=t(15),h=t.n(E),v=t(32),g=(t(56),function(){var e=Object(n.useState)(!1),a=Object(f.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(null),r=Object(f.a)(l,2),o=r[0],s=r[1];return{loading:t,request:Object(n.useCallback)(function(){var e=Object(p.a)(_.a.mark((function e(a){var t,n,l,r,o,i=arguments;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>1&&void 0!==i[1]?i[1]:"GET",n=i.length>2&&void 0!==i[2]?i[2]:null,l=i.length>3&&void 0!==i[3]?i[3]:{},c(!0),e.prev=4,n&&(n=JSON.stringify(n),l["Content-Type"]="application/json"),e.next=8,fetch(a,{method:t,body:n,headers:l}).then(c(!0));case 8:return r=e.sent,e.next=11,r.json().then(c(!1));case 11:if(o=e.sent,r.ok){e.next=14;break}throw new Error(o.message||"Something went wrong");case 14:return c(!1),e.abrupt("return",o);case 18:throw e.prev=18,e.t0=e.catch(4),c(!1),s(e.t0.message),e.t0;case 23:case"end":return e.stop()}}),e,null,[[4,18]])})));return function(a){return e.apply(this,arguments)}}(),[]),error:o,clearError:Object(n.useCallback)((function(){return s(null)}),[]),API_URL:"https://stone-init.herokuapp.com"}}),N=function(){return Object(n.useCallback)((function(e){e&&v.a.error(e)}),[])},k=Object(n.createContext)({login:!1,logout:!1,isAuthentificated:!1}),O=function(){v.a.configure({position:"top-center",autoClose:3e3,draggable:!0});var e=Object(n.useContext)(k),a=N(),t=g(),l=t.loading,r=t.request,o=t.API_URL,s=Object(n.useState)({}),i=Object(f.a)(s,2),m=i[0],u=i[1],E=function(e){u(Object(b.a)(Object(b.a)({},m),{},Object(d.a)({},e.target.name,e.target.value)))},O=Object(n.useCallback)(Object(p.a)(_.a.mark((function t(){var n,c,l,s;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=/^[\u0400-\u04FF]+$/,c=!0,t.prev=2,""!==m.username&&""!==m.password){t.next=7;break}a("\u041f\u043e\u043b\u044f \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c\u0438!"),t.next=18;break;case 7:if(!0!==n.test(m.username)&&!n.test(m.password)){t.next=11;break}a("\u041d\u0435\u043b\u044c\u0437\u044f \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u0440\u0443\u0441\u0441\u043a\u0438\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b!"),t.next=18;break;case 11:if(!c){t.next=18;break}return l=btoa(m.username+":"+m.password),localStorage.setItem("userCode",JSON.stringify({hashed:l})),t.next=16,r("".concat(o,"/api/login/myUser"),"GET",null,{Authorization:"Basic ".concat(l)});case 16:s=t.sent,e.login(s.successful,s,l);case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(2),a("\u0412\u0432\u0435\u0434\u0435\u043d\u044b \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435!");case 23:return t.abrupt("return",(function(){return c=!1}));case 24:case"end":return t.stop()}}),t,null,[[2,20]])}))),[e,m,a,r,o]),j=Object(n.useCallback)((function(e){13===e.keyCode&&O()}),[O]);return Object(n.useEffect)((function(){return document.addEventListener("keydown",j,!1),function(){document.removeEventListener("keydown",j,!1)}}),[j]),c.a.createElement("div",{className:h.a.container},c.a.createElement("div",{className:h.a.block},c.a.createElement("h2",{className:h.a.heading},"\u0412\u0445\u043e\u0434"),c.a.createElement("form",{action:"#",className:h.a.form},c.a.createElement("div",{className:h.a.inputBlock},c.a.createElement("input",{type:"text",className:h.a.input,name:"username",placeholder:"\u041b\u043e\u0433\u0438\u043d",autoComplete:"off",onChange:E}),c.a.createElement("label",{htmlFor:"username",className:h.a.label},"\u041b\u043e\u0433\u0438\u043d")),c.a.createElement("div",{className:h.a.inputBlock},c.a.createElement("input",{type:"password",className:h.a.input,name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",autoComplete:"off",onChange:E}),c.a.createElement("label",{htmlFor:"password",className:h.a.label},"\u041f\u0430\u0440\u043e\u043b\u044c")),c.a.createElement("div",{className:l?h.a.loading:h.a.buttons},c.a.createElement("a",{href:"/",className:l?h.a.dn:h.a.submit,onClick:function(e){e.preventDefault(),O()}},"\u0412\u043e\u0439\u0442\u0438")))))},j=t(16),w=t.n(j),x=function(){var e=Object(n.useState)(!1),a=Object(f.a)(e,2),t=a[0],l=a[1],r=Object(m.g)(),o=Object(n.useContext)(k),u=Object(n.useCallback)((function(){l(!1)}),[l]),_=Object(n.useCallback)((function(e){27===e.keyCode&&u()}),[u]);return Object(n.useEffect)((function(){return document.addEventListener("keydown",_,!1),function(){document.removeEventListener("keydown",_,!1)}}),[_]),c.a.createElement("div",{className:w.a.topline},c.a.createElement("div",{className:w.a.item},c.a.createElement(i.b,{to:"/panel/profile",className:w.a.profile},c.a.createElement("i",{className:"material-icons ".concat(w.a.account)},"account_circle"),"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442")),c.a.createElement("div",{className:w.a.item},c.a.createElement("a",{href:"/",className:w.a.link,onClick:function(e){e.preventDefault(),l(!0)}},c.a.createElement("i",{className:"material-icons ".concat(w.a.icon)},"exit_to_app"))),c.a.createElement("div",{className:"".concat(s.a.overlay," ").concat(t?w.a.active:!t),onClick:u}),c.a.createElement("div",{className:"".concat(w.a.message," ").concat(t?w.a.active:!t)},c.a.createElement("p",{className:w.a.text},"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0432\u044b\u0439\u0442\u0438?"),c.a.createElement("a",{href:"/",className:w.a.submit,onClick:function(e){e.preventDefault(),o.logout(),r.push("/")}},"\u0414\u0430"),c.a.createElement("a",{href:"/",className:w.a.submit,onClick:function(e){e.preventDefault(),u()}},"\u041d\u0435\u0442")))},y=t(70),C=t.n(y),S=t(10),P=function(){var e=[{name:"\u042f\u043d\u0432.","\u041f\u0440\u0438\u0445\u043e\u0434":4e3,"\u0423\u0445\u043e\u0434":2400},{name:"\u0424\u0435\u0432.","\u041f\u0440\u0438\u0445\u043e\u0434":3e3,"\u0423\u0445\u043e\u0434":1398},{name:"\u041c\u0430\u0440\u0442","\u041f\u0440\u0438\u0445\u043e\u0434":2e3,"\u0423\u0445\u043e\u0434":9800},{name:"\u0410\u043f\u0440.","\u041f\u0440\u0438\u0445\u043e\u0434":2780,"\u0423\u0445\u043e\u0434":3908},{name:"\u041c\u0430\u0439","\u041f\u0440\u0438\u0445\u043e\u0434":1890,"\u0423\u0445\u043e\u0434":4800},{name:"\u0418\u044e\u043d\u044c","\u041f\u0440\u0438\u0445\u043e\u0434":2390,"\u0423\u0445\u043e\u0434":3800},{name:"\u0418\u044e\u043b\u044c","\u041f\u0440\u0438\u0445\u043e\u0434":3490,"\u0423\u0445\u043e\u0434":4300},{name:"\u0410\u0432\u0433.","\u041f\u0440\u0438\u0445\u043e\u0434":1100,"\u0423\u0445\u043e\u0434":1500},{name:"\u0421\u0435\u043d\u0442.","\u041f\u0440\u0438\u0445\u043e\u0434":3400,"\u0423\u0445\u043e\u0434":2200},{name:"\u041e\u043a\u0442.","\u041f\u0440\u0438\u0445\u043e\u0434":2560,"\u0423\u0445\u043e\u0434":3700},{name:"\u041d\u043e\u044f\u0431.","\u041f\u0440\u0438\u0445\u043e\u0434":1400,"\u0423\u0445\u043e\u0434":1900},{name:"\u0414\u0435\u043a.","\u041f\u0440\u0438\u0445\u043e\u0434":3600,"\u0423\u0445\u043e\u0434":2450}];return c.a.createElement("div",{className:C.a.block},c.a.createElement("div",{className:C.a.item},c.a.createElement(S.g,null,c.a.createElement(S.f,{data:e,margin:{top:5,right:30,left:20,bottom:5}},c.a.createElement(S.c,{strokeDasharray:"3 3"}),c.a.createElement(S.i,{dataKey:"name"}),c.a.createElement(S.j,null),c.a.createElement(S.h,null),c.a.createElement(S.d,null),c.a.createElement(S.e,{type:"monotone",dataKey:"\u0423\u0445\u043e\u0434",stroke:"#304269"}),c.a.createElement(S.e,{type:"monotone",dataKey:"\u041f\u0440\u0438\u0445\u043e\u0434",stroke:"#F26101",activeDot:{r:8}})))),c.a.createElement("div",{className:C.a.item},c.a.createElement(S.g,null,c.a.createElement(S.b,{data:e,margin:{top:5,right:30,left:20,bottom:5}},c.a.createElement(S.c,{strokeDasharray:"3 3"}),c.a.createElement(S.i,{dataKey:"name"}),c.a.createElement(S.j,null),c.a.createElement(S.h,null),c.a.createElement(S.d,null),c.a.createElement(S.a,{dataKey:"\u0423\u0445\u043e\u0434",fill:"#304269"}),c.a.createElement(S.a,{dataKey:"\u041f\u0440\u0438\u0445\u043e\u0434",fill:"#F26101"})))))},A=function(){var e=Object(n.useState)(null),a=Object(f.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)({object:""}),r=Object(f.a)(l,2),o=r[0],s=r[1],i=Object(n.useState)(""),m=Object(f.a)(i,2),u=m[0],_=m[1],p=Object(n.useCallback)((function(e,a){var t=JSON.parse(localStorage.getItem("userCode"));_(t),s(a),c(e),localStorage.setItem("profileStorage",JSON.stringify({data:a})),localStorage.setItem("userStatus",JSON.stringify({status:e}))}),[]),d=Object(n.useCallback)((function(){s({}),c(null),localStorage.removeItem("userStatus"),localStorage.removeItem("profileStorage"),localStorage.removeItem("userCode")}),[]);return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("profileStorage")),a=JSON.parse(localStorage.getItem("userStatus"));a&&p(a.status,e.data)}),[p]),{login:p,logout:d,status:t,profile:o,code:u}},D=t(11),T=t.n(D),I=t(161),B=t.n(I),J=t(162),L=t.n(J),G=function(){var e=A().profile,a=e.object,t=e.userRole;return t?c.a.createElement("div",{className:T.a.profile},c.a.createElement("div",{className:T.a.card},c.a.createElement("div",{className:T.a.avatar},"MALE"===a.gender?c.a.createElement("img",{src:B.a,alt:"man"}):c.a.createElement("img",{src:L.a,alt:"woman"})),c.a.createElement("div",{className:T.a.info},c.a.createElement("ul",null,c.a.createElement("li",{className:T.a.item},a.fullname||"\u041f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f"),c.a.createElement("li",{className:T.a.item},c.a.createElement("i",{className:"material-icons ".concat(T.a.icon)},"email"),a.email||"example@gmail.com"),c.a.createElement("li",{className:T.a.item},c.a.createElement("i",{className:"material-icons ".concat(T.a.icon)},"phone"),"+996".concat(a.phoneNumber||"700000000")),c.a.createElement("li",{className:T.a.item},"\u0412\u043e\u0437\u0440\u0430\u0441\u0442: ".concat(a.age||"\u0412\u043e\u0437\u0440\u0430\u0441\u0442"))))),c.a.createElement("div",{className:T.a.buttons},t.length>1?c.a.createElement(i.b,{activeClassName:T.a.active,to:"/panel/create"},c.a.createElement("i",{className:"material-icons ".concat(T.a.icon)},"create"),c.a.createElement("span",{className:T.a.text},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c")):"",c.a.createElement(i.b,{activeClassName:T.a.active,to:"/panel/changePassword"},c.a.createElement("i",{className:"material-icons ".concat(T.a.key)},"vpn_key"),c.a.createElement("span",{className:T.a.text},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c")))):c.a.createElement("div",null)},U=t(28),F=t.n(U),K=function(){v.a.configure({autoClose:3e3,draggable:!0});var e=A().code,a=Object(n.useContext)(k),t=g(),l=t.request,r=t.API_URL,o=Object(m.g)(),s=Object(n.useCallback)((function(e){e&&v.a.success(e)}),[]),i=N(),u=Object(n.useState)({password:""}),E=Object(f.a)(u,2),h=E[0],O=E[1],j=Object(n.useState)({newPassword:""}),w=Object(f.a)(j,2),x=w[0],y=w[1],C=function(){var t=Object(p.a)(_.a.mark((function t(){var n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""===h.password||""===x.newPassword){t.next=19;break}if(h.password!==x.newPassword){t.next=16;break}return t.prev=2,t.next=5,l("".concat(r,"/user/changePassword"),"POST",Object(b.a)({},x),{Authorization:"Basic ".concat(e.hashed)});case 5:n=t.sent,s(n.message),a.logout(),o.push("/"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),i("\u041e\u0448\u0438\u0431\u043a\u0430!");case 14:t.next=17;break;case 16:i("\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442!");case 17:t.next=20;break;case 19:i("\u041f\u043e\u043b\u044f \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c\u0438!");case 20:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(){return t.apply(this,arguments)}}();return console.log(h),console.log(x),c.a.createElement("div",{className:F.a.form},c.a.createElement("div",{className:F.a.block},c.a.createElement("h3",{className:F.a.heading},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"),c.a.createElement("div",{className:F.a.item},c.a.createElement("input",{type:"password",className:F.a.input,name:"password",placeholder:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",autoComplete:"off",onChange:function(e){O(Object(b.a)(Object(b.a)({},x),{},Object(d.a)({},e.target.name,e.target.value)))}})),c.a.createElement("div",{className:F.a.item},c.a.createElement("input",{type:"password",className:F.a.input,name:"newPassword",placeholder:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",autoComplete:"off",onChange:function(e){y(Object(b.a)(Object(b.a)({},x),{},Object(d.a)({},e.target.name,e.target.value)))}})),c.a.createElement("button",{type:"submit",onClick:function(){C()},className:F.a.submit},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c")))},q=t(163),Q=t.n(q),z=function(){return c.a.createElement("div",{className:Q.a.scene},c.a.createElement(m.d,null,c.a.createElement(m.b,{path:"/panel/analytics",exact:!0},c.a.createElement(P,null)),c.a.createElement(m.b,{path:"/panel/profile",exact:!0},c.a.createElement(G,null)),c.a.createElement(m.b,{path:"/panel/changePassword",exact:!0},c.a.createElement(K,null))))},R=t(7),W=t.n(R),Y=function(){var e=Object(n.useState)(!1),a=Object(f.a)(e,2),t=a[0],l=a[1],r=[{title:"\u041f\u0440\u0438\u0445\u043e\u0434 \u043a\u0430\u043c\u043d\u044f",link:"income",icon:"move_to_inbox"},{title:"\u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043a\u0430\u043c\u043d\u044f",link:"realization",icon:"assignment_turned_in"},{title:"\u041e\u0442\u0447\u0451\u0442",link:"analytics",icon:"assessment"}].map((function(e,a){var t=e.title,n=e.link,l=e.icon;return c.a.createElement("li",{key:a,className:W.a.item},c.a.createElement(i.b,{activeClassName:W.a.active,to:"/panel/".concat(n)},c.a.createElement("i",{className:"material-icons ".concat(W.a.icon)},l),c.a.createElement("span",{className:W.a.text},t)))}));return c.a.createElement("div",{className:W.a.dashboard},c.a.createElement("nav",{className:"".concat(W.a.navbar," ").concat(t?W.a.open:"")},c.a.createElement("div",{className:W.a.flexBlock},c.a.createElement("div",{className:"".concat(W.a.title," ").concat(t?W.a.open:"")},c.a.createElement(i.b,{to:"/panel/analytics",className:"".concat(W.a.logo," ").concat(t?W.a.open:"")},"Stone"),c.a.createElement("a",{href:"/",className:W.a.ham,onClick:function(e){e.preventDefault(),l(!1===t)}},c.a.createElement("span",{className:"".concat(W.a.line," ").concat(t?W.a.open:"")}),c.a.createElement("span",{className:"".concat(W.a.line," ").concat(t?W.a.open:"")}),c.a.createElement("span",{className:"".concat(W.a.line," ").concat(t?W.a.open:"")})))),c.a.createElement("ul",{className:"".concat(W.a.menu," ").concat(t?W.a.open:"")},r)),c.a.createElement("div",{className:W.a.main},c.a.createElement(x,null),c.a.createElement(z,null)))},H=function(){var e=A(),a=e.login,t=e.logout,l=e.status,r=!!l,o=function(e){return e?c.a.createElement(n.Fragment,null,c.a.createElement("div",{className:s.a.dashboard},c.a.createElement(Y,null)),c.a.createElement(m.a,{to:"/panel/analytics"})):c.a.createElement(m.d,null,c.a.createElement(m.b,{path:"/",exact:!0},c.a.createElement("div",{className:s.a.auth},c.a.createElement(O,null))),c.a.createElement(m.a,{to:"/"}))}(r);return c.a.createElement(k.Provider,{value:{login:a,logout:t,status:l,isAuthentificated:r}},c.a.createElement(i.a,null,c.a.createElement("div",{className:s.a.app},r,o)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,a,t){e.exports={dashboard:"Dashboard_dashboard__ieGwt",navbar:"Dashboard_navbar__1gQD1",main:"Dashboard_main__12r-w",flexBlock:"Dashboard_flexBlock__2vvU9",logo:"Dashboard_logo__3sJNO",ham:"Dashboard_ham__2Lo53",line:"Dashboard_line__3iV1z",menu:"Dashboard_menu__1wH_K",item:"Dashboard_item__2-3zS",open:"Dashboard_open__2db2a",active:"Dashboard_active__1hm38",icon:"Dashboard_icon__3SO3U",text:"Dashboard_text__QNi-d",title:"Dashboard_title__1B0_m"}},70:function(e,a,t){e.exports={block:"Analytics_block__2_HkR",item:"Analytics_item__H0YJG",none:"Analytics_none__ve5fO"}}},[[189,1,2]]]);